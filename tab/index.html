<!doctype HTML>
<html>
  <head>
  </head>
  <body>
    <script>
      var ww;
      document.onclick = () => {
        ww = new Worker('ww.js');
        Notification.requestPermission().then(n => {
          navigator.serviceWorker.register('sw.js');
          navigator.serviceWorker.ready.then(regist => {
            regist.active.onerror = e => {
              alert(e);
            }
            regist.active.postMessage('swm');
          });
          //ww.postMessage('posted');
        });
        ww.onerror = (er) => {
          alert(er);
        }
        ww.onmessage = me => {
          ww.postMessage('shine');
        }
      }
    </script>
    <button>solved</button>
  </body>
</htm
  
